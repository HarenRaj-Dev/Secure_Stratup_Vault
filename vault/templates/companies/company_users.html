{% extends "base.html" %}

{% block content %}
<div class="company-container">
    <div class="company-header">
        <h1>{{ company.name }} / Users</h1>
    </div>

    <div class="company-navbar">
        <a href="{{ url_for('companies.company_files', company_id=company.id) }}">Files</a>
        <a href="{{ url_for('companies.company_users', company_id=company.id) }}" class="active">Users</a>
        <a href="{{ url_for('companies.company_roles', company_id=company.id) }}">Roles</a>
        <a href="{{ url_for('companies.company_logs', company_id=company.id) }}">Activity Logs</a>
        <a href="{{ url_for('companies.company_settings', company_id=company.id) }}">Settings</a>
    </div>

    <div class="tab-content">
        <div class="content-actions">
            <button class="btn-primary" data-company-id="{{ company.id }}" onclick="addNewUser(this)">Add New User</button>
        </div>

        <table class="vault-table">
            <thead>
                <tr>
                    <th>USER EMAIL</th>
                    <th>ROLE</th>
                    <th>STATUS</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody>
                {% for member in members %}
                <tr>
                    <td>{{ member.user.email }}</td>
                    <td><span class="badge {% if member.is_owner %}admin{% else %}member{% endif %}">{{ 'Owner' if member.is_owner else member.role.name }}</span></td>
                    <td>Active</td>
                    <td><button class="btn-sm">Edit</button></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/companies.js') }}"></script>
{% endblock %}